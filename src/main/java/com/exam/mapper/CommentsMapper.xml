<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.exam.mapper.CommentsMapper">
	
	<!-- 댓글 추가 -->
	<insert id="CommentsAdd" parameterType="CommentsDTO">
		insert into study_comments (comments, studyid, userid )
		values ( #{comments}, #{studyid}, #{userid}) 
	</insert>
	
	<!-- 
	<insert id="CommentsAdd" parameterType="CommentsDTO">
	insert into study_comments (commentsid, comments, commentsdate) 
	values ( #{commentsid}, #{comments}, now()) 
	</insert>
	 -->
	<!--
	<select id="findAll" resultType="CommentsDTO" parameterType="int"> 
	 select * from study_comments
	 where studyid = #{studyid}
	</select>
	-->
	
	
	<!-- 댓글 삭제 -->
    <delete id="deleteComment" parameterType="int">
        DELETE FROM study_comments 
        WHERE commentsid = #{commentsid}
    </delete>
    
    <!-- 특정 게시물의 댓글 조회 -->
    <select id="findAll" resultType="CommentsDTO" parameterType="int">
        SELECT * FROM study_comments WHERE studyid = #{studyid}
    </select>
    
     <select id="getCommentCount" resultType="int" parameterType="int">
        SELECT count(*)
        FROM study_comments 
        WHERE studyid = #{studyid}
    </select>
    
    
	
	
</mapper>